classes:
    - nameserver
    - dhcpd

dhcpd::template: 'ifgen'

resolvconf::nameservers:
    - 127.0.0.1
    - 8.8.8.8
    - 8.8.4.4
resolvconf::domain: j.hack

nameserver::views:
    chaos:
        match-clients:
            - 10.100.252.0/24
        recursion: true
        zones:
            '.':
                - type hint
                - file "named.ca"
    produxi:
        match-clients:
            - 172.16.128.0/24
        recursion: false
    self:
        zones:
            produxi.net:
                - type slave
                - file "slaves/produxi.net"
                - masters { 172.16.128.30; }
            _msdcs.produxi.net:
                - type slave
                - file "slaves/_msdcs.produxi.net"
                - masters { 172.16.128.30; }
            128.16.172.in-addr.arpa:
                - type slave
                - file "slaves/128.16.172.in-addr.arpa"
                - masters { 172.16.128.30; }
            64/26.128.16.172.in-addr.arpa:
                - type slave
                - file "slaves/64-26.128.16.172.in-addr.arpa"
                - masters { 172.16.128.36; }
            dyn.produxi.net:
                - type slave
                - file "slaves/dyn.produxi.net"
                - masters { 172.16.128.36; }
